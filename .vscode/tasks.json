{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "CMake Build", // 任务的标签
            "type": "shell", // 任务类型为 shell 命令
            "command": "bash",
            "args": [
                "-c",
                "mkdir -p ${fileDirname}/build && cd ${fileDirname}/build && cmake .. && make -j$(nproc)"
            ],
            "group": { // 任务分组信息
                "kind": "build", // 将任务分组为构建类型
                "isDefault": true // 设置为默认任务
            }
        },
        {
            "label": "Make Build",
            "type": "shell",
            "command": "make",
            "args": [],
            "options": {
                "cwd": "${fileDirname}" // 重要：指定make在工作目录执行
            },
            "group": {
                "kind": "build",
                "isDefault": true
            },
        },
        {
            "label": "Normal Build",
            "type": "shell",
            "command": "gfortran",
            "args": [
                "-g", // 生成调试信息
                "-fcheck=all", // 运行时检查
                "-Wall", // 显示所有警告
                "-o",
                "${fileDirname}/${fileBasenameNoExtension}", // home/howiedu/Fortran/main
                "${fileDirname}/${fileBasename}" // home/howiedu/Fortran/main.f90
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
        },
        // bellhop专用
        {
            "label": "CMake Build bellhop",
            "type": "shell",
            "command": "cmake",
            "args": [
                "--build",
                "${fileDirname}/build",
                "--target",
                "bellhop2D"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "options": {
                "cwd": "${fileDirname}"
            }
        }
    ]
}